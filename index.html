<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>10A8 â€” Dashboard lá»›p (Full UI)</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="assets/css/app.css">
  <link rel="stylesheet" href="assets/css/theme.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
</head>
<body>
  <div id="app" class="d-flex">
    <!-- Sidebar -->
    <nav id="sidebar" class="p-3 border-end">
      <h5 class="mb-3">Lá»›p 10A8</h5>
      <div class="list-group list-group-flush" id="navLinks">
        <a class="list-group-item list-group-item-action active" data-page="home" href="#">ğŸ  Trang chá»§</a>
        <a class="list-group-item list-group-item-action" data-page="students" href="#">ğŸ‘¨â€ğŸ“ Há»c sinh</a>
        <a class="list-group-item list-group-item-action" data-page="timetable" href="#">ğŸ—“ï¸ Thá»i khÃ³a biá»ƒu</a>
        <a class="list-group-item list-group-item-action" data-page="awards" href="#">ğŸ… Khen thÆ°á»Ÿng</a>
        <a class="list-group-item list-group-item-action" data-page="violations" href="#">ğŸš© Vi pháº¡m</a>
        <a class="list-group-item list-group-item-action" data-page="discipline" href="#">ğŸ“ Ná» náº¿p</a>
        <a class="list-group-item list-group-item-action" data-page="activities" href="#">ğŸ“£ Phong trÃ o</a>
        <a class="list-group-item list-group-item-action" data-page="attendance" href="#">ğŸ§¾ Äiá»ƒm danh</a>
        <a class="list-group-item list-group-item-action" data-page="events" href="#">ğŸ“… Sá»± kiá»‡n</a>
        <a class="list-group-item list-group-item-action" data-page="resources" href="#">ğŸ“š TÃ i nguyÃªn</a>
        <a class="list-group-item list-group-item-action" data-page="feedback" href="#">ğŸ’¬ GÃ³p Ã½</a>
        <a class="list-group-item list-group-item-action" data-page="config" href="#">âš™ï¸ Cáº¥u hÃ¬nh</a>
      </div>
      <hr>
      <div class="small text-muted" id="syncStatus">ChÆ°a Ä‘á»“ng bá»™</div>
      <div class="mt-2">
        <select id="roleSelect" class="form-select form-select-sm">
          <option value="hocsinh" selected>Vai trÃ²: Há»c sinh</option>
          <option value="canbo">CÃ¡n bá»™ lá»›p</option>
          <option value="gvcn">GVCN</option>
          <option value="phuhuynh">Phá»¥ huynh</option>
        </select>
      </div>
      <div class="mt-2 d-grid gap-2">
        <button class="btn btn-sm btn-outline-secondary" id="btnGVCNLogin"><i class="fa-solid fa-lock"></i> ÄÄƒng nháº­p GVCN</button>
        <button class="btn btn-sm btn-outline-danger d-none" id="btnGVCNLogout"><i class="fa-solid fa-right-from-bracket"></i> ÄÄƒng xuáº¥t</button>
      </div>
    </nav>

    <!-- Main -->
    <main id="main" class="flex-grow-1 p-3">
      <!-- Home -->
      <section class="page" data-page="home">
        <div class="row g-3">
          <div class="col-12 col-lg-8">
            <div class="card h-100">
              <div class="card-header">ğŸ“¢ ThÃ´ng bÃ¡o</div>
              <div class="card-body" id="announcements"></div>
            </div>
          </div>
          <div class="col-12 col-lg-4">
            <div class="card mb-3">
              <div class="card-header">ğŸ‚ Sinh nháº­t</div>
              <div class="card-body" id="birthdays"></div>
            </div>
            <div class="card">
              <div class="card-header">ğŸ‘¥ Thá»‘ng kÃª</div>
              <div class="card-body">
                <div>Tá»•ng sá»‘ há»c sinh: <strong id="statTotal">â€“</strong></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Students -->
      <section class="page d-none" data-page="students">
        <div class="d-flex align-items-center gap-2 mb-3">
          <input id="studentsSearch" class="form-control" placeholder="TÃ¬m tÃªn, mÃ£ sá»‘...">
          <button class="btn btn-outline-primary" id="btnRefresh"><i class="fa-solid fa-rotate"></i> LÃ m má»›i</button>
        </div>
        <div id="studentsList" class="row g-2"></div>
      </section>

      <!-- Timetable -->
      <section class="page d-none" data-page="timetable">
        <div id="timetableWrap" class="table-responsive"></div>
      </section>

      <!-- Awards -->
      <section class="page d-none" data-page="awards">
        <div class="d-flex align-items-center gap-2 mb-3">
          <input id="awardsSearch" class="form-control" placeholder="TÃ¬m theo tÃªn / loáº¡i...">
        </div>
        <div id="awardsList" class="row g-2"></div>
      </section>

      <!-- Violations -->
      <section class="page d-none" data-page="violations">
        <div class="d-flex align-items-center gap-2 mb-3">
          <input id="violationsSearch" class="form-control" placeholder="TÃ¬m theo tÃªn / má»©c Ä‘á»™...">
        </div>
        <div id="violationsList" class="row g-2"></div>
      </section>

      <!-- Discipline -->
      <section class="page d-none" data-page="discipline">
        <div id="disciplineList" class="row g-2"></div>
      </section>

      <!-- Activities -->
      <section class="page d-none" data-page="activities">
        <div id="activitiesList" class="row g-2"></div>
      </section>

      <!-- Attendance -->
      <section class="page d-none" data-page="attendance">
        <div id="attendanceWrap" class="table-responsive"></div>
      </section>

      <!-- Events -->
      <section class="page d-none" data-page="events">
        <div id="eventsList" class="row g-2"></div>
      </section>

      <!-- Resources -->
      <section class="page d-none" data-page="resources">
        <div id="resourcesList" class="row g-2"></div>
      </section>

      <!-- Feedback -->
      <section class="page d-none" data-page="feedback">
        <div id="feedbackList" class="row g-2"></div>
      </section>

      <!-- Config -->
      <section class="page d-none" data-page="config">
        <div class="card">
          <div class="card-header">Cáº¥u hÃ¬nh Google Sheets</div>
          <div class="card-body">
            <div class="row g-3">
              <div class="col-md-8">
                <label class="form-label">Spreadsheet ID</label>
                <input id="sheetId" class="form-control" placeholder="1AbC...">
              </div>
              <div class="col-md-4">
                <label class="form-label">API Key (tÃ¹y chá»n)</label>
                <input id="apiKey" class="form-control" placeholder="AIza...">
              </div>
            </div>
            <div class="mt-3 d-flex gap-2">
              <button id="btnSaveConfig" class="btn btn-primary"><i class="fa-solid fa-floppy-disk"></i> LÆ°u & Ä‘á»“ng bá»™</button>
              <button id="btnResetConfig" class="btn btn-outline-danger">XÃ³a cáº¥u hÃ¬nh</button>
            </div>
            <hr>
            <p class="small text-muted mb-0">
              â€¢ CÃ³ API key â†’ dÃ¹ng Google Sheets API v4 (á»•n Ä‘á»‹nh).<br>
              â€¢ KhÃ´ng cÃ³ API key â†’ dÃ¹ng cháº¿ Ä‘á»™ gviz (cÃ³ thá»ƒ thay Ä‘á»•i theo Google).<br>
              â€¢ ID/API Ä‘Æ°á»£c lÆ°u localStorage trÃªn trÃ¬nh duyá»‡t cá»§a báº¡n.
            </p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <!-- GVCN Auth Modal -->
  <div class="modal fade" id="gvcnAuthModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">XÃ¡c thá»±c GVCN</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <div id="authSetup" class="d-none">
            <p class="small text-muted">Thiáº¿t láº­p PIN GVCN láº§n Ä‘áº§u. LÆ°u Ã½: chá»‰ báº£o vá»‡ trÃªn mÃ¡y nÃ y (localStorage).</p>
            <div class="mb-2">
              <label class="form-label">PIN má»›i</label>
              <input type="password" class="form-control" id="setupPin" placeholder="Nháº­p PIN (4â€“12 kÃ½ tá»±)">
            </div>
            <div class="mb-2">
              <label class="form-label">XÃ¡c nháº­n PIN</label>
              <input type="password" class="form-control" id="setupPin2" placeholder="Nháº­p láº¡i PIN">
            </div>
            <button class="btn btn-primary w-100" id="btnSetupPin">LÆ°u PIN</button>
          </div>
          <div id="authLogin" class="">
            <div class="mb-2">
              <label class="form-label">PIN GVCN</label>
              <input type="password" class="form-control" id="loginPin" placeholder="Nháº­p PIN">
            </div>
            <button class="btn btn-primary w-100" id="btnLoginPin">ÄÄƒng nháº­p</button>
            <div class="form-text mt-2">QuÃªn PIN? XÃ³a dá»¯ liá»‡u trÃ¬nh duyá»‡t (localStorage) Ä‘á»ƒ thiáº¿t láº­p láº¡i.</div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="assets/js/main.js"></script>
</body>
</html>
